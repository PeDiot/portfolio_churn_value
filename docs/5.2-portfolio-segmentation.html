<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.2 Portfolio segmentation | Portfolio, Churn &amp; Customer Value</title>
  <meta name="description" content="This research paper aims at modelling customer portfolio, churn and customer value." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5.2 Portfolio segmentation | Portfolio, Churn &amp; Customer Value" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This research paper aims at modelling customer portfolio, churn and customer value." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.2 Portfolio segmentation | Portfolio, Churn &amp; Customer Value" />
  
  <meta name="twitter:description" content="This research paper aims at modelling customer portfolio, churn and customer value." />
  

<meta name="author" content="Hugo Cornet, Pierre-Emmanuel Diot, Guillaume Le Halper, Djawed Mancer" />


<meta name="date" content="2022-03-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="5.1-featureselection.html"/>
<link rel="next" href="5.3-churn-analysis.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Portfolio, Churn & Customer Value</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Abstract</a></li>
<li class="chapter" data-level="1" data-path="1-intro.html"><a href="1-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1.1-portfoliodef.html"><a href="1.1-portfoliodef.html"><i class="fa fa-check"></i><b>1.1</b> How to define a customer portfolio?</a></li>
<li class="chapter" data-level="1.2" data-path="1.2-attritiondef.html"><a href="1.2-attritiondef.html"><i class="fa fa-check"></i><b>1.2</b> What is attrition?</a></li>
<li class="chapter" data-level="1.3" data-path="1.3-valuedef.html"><a href="1.3-valuedef.html"><i class="fa fa-check"></i><b>1.3</b> What does customer “value” mean?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-literature.html"><a href="2-literature.html"><i class="fa fa-check"></i><b>2</b> Literature Review</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2.1-portfolio.html"><a href="2.1-portfolio.html"><i class="fa fa-check"></i><b>2.1</b> On customer portfolio</a></li>
<li class="chapter" data-level="2.2" data-path="2.2-attrition.html"><a href="2.2-attrition.html"><i class="fa fa-check"></i><b>2.2</b> On attrition</a></li>
<li class="chapter" data-level="2.3" data-path="2.3-value.html"><a href="2.3-value.html"><i class="fa fa-check"></i><b>2.3</b> On customer value</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-duration.html"><a href="3-duration.html"><i class="fa fa-check"></i><b>3</b> Duration models</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3.1-definition.html"><a href="3.1-definition.html"><i class="fa fa-check"></i><b>3.1</b> Definition</a></li>
<li class="chapter" data-level="3.2" data-path="3.2-censoring-and-truncation.html"><a href="3.2-censoring-and-truncation.html"><i class="fa fa-check"></i><b>3.2</b> Censoring and Truncation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="3.2-censoring-and-truncation.html"><a href="3.2-censoring-and-truncation.html#censoring-mechanisms"><i class="fa fa-check"></i><b>3.2.1</b> Censoring mechanisms</a></li>
<li class="chapter" data-level="3.2.2" data-path="3.2-censoring-and-truncation.html"><a href="3.2-censoring-and-truncation.html#selection-bias"><i class="fa fa-check"></i><b>3.2.2</b> Selection bias</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3.3-probabilistic-concepts.html"><a href="3.3-probabilistic-concepts.html"><i class="fa fa-check"></i><b>3.3</b> Probabilistic concepts</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="3.3-probabilistic-concepts.html"><a href="3.3-probabilistic-concepts.html#survival-function"><i class="fa fa-check"></i><b>3.3.1</b> Survival function</a></li>
<li class="chapter" data-level="3.3.2" data-path="3.3-probabilistic-concepts.html"><a href="3.3-probabilistic-concepts.html#hazard-and-cumulative-hazard-functions"><i class="fa fa-check"></i><b>3.3.2</b> Hazard and Cumulative Hazard functions</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3.4-nonparam.html"><a href="3.4-nonparam.html"><i class="fa fa-check"></i><b>3.4</b> Nonparametric models</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="3.4-nonparam.html"><a href="3.4-nonparam.html#notations"><i class="fa fa-check"></i><b>3.4.1</b> Notations</a></li>
<li class="chapter" data-level="3.4.2" data-path="3.4-nonparam.html"><a href="3.4-nonparam.html#hazard-function-estimator"><i class="fa fa-check"></i><b>3.4.2</b> Hazard function estimator</a></li>
<li class="chapter" data-level="3.4.3" data-path="3.4-nonparam.html"><a href="3.4-nonparam.html#kaplan-meier-estimator"><i class="fa fa-check"></i><b>3.4.3</b> Kaplan-Meier estimator</a></li>
<li class="chapter" data-level="3.4.4" data-path="3.4-nonparam.html"><a href="3.4-nonparam.html#nelson-aalen-estimator"><i class="fa fa-check"></i><b>3.4.4</b> Nelson-Aalen estimator</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3.5-parametric-models.html"><a href="3.5-parametric-models.html"><i class="fa fa-check"></i><b>3.5</b> Parametric models</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="3.5-parametric-models.html"><a href="3.5-parametric-models.html#constant-hazard-exponential-model"><i class="fa fa-check"></i><b>3.5.1</b> Constant hazard (exponential model)</a></li>
<li class="chapter" data-level="3.5.2" data-path="3.5-parametric-models.html"><a href="3.5-parametric-models.html#monotone-hazard"><i class="fa fa-check"></i><b>3.5.2</b> Monotone hazard</a></li>
<li class="chapter" data-level="3.5.3" data-path="3.5-parametric-models.html"><a href="3.5-parametric-models.html#concave-and-convex-hazard"><i class="fa fa-check"></i><b>3.5.3</b> Concave and convex hazard</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="3.6-semi-parametric-estimation.html"><a href="3.6-semi-parametric-estimation.html"><i class="fa fa-check"></i><b>3.6</b> Semi-parametric estimation</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="3.6-semi-parametric-estimation.html"><a href="3.6-semi-parametric-estimation.html#proportional-hazards-models"><i class="fa fa-check"></i><b>3.6.1</b> <em>Proportional Hazards</em> models</a></li>
<li class="chapter" data-level="3.6.2" data-path="3.6-semi-parametric-estimation.html"><a href="3.6-semi-parametric-estimation.html#coxph"><i class="fa fa-check"></i><b>3.6.2</b> Cox PH model</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="3.7-performance-metrics.html"><a href="3.7-performance-metrics.html"><i class="fa fa-check"></i><b>3.7</b> Performance metrics</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="3.7-performance-metrics.html"><a href="3.7-performance-metrics.html#concordance-index-c-index"><i class="fa fa-check"></i><b>3.7.1</b> Concordance index (C-index)</a></li>
<li class="chapter" data-level="3.7.2" data-path="3.7-performance-metrics.html"><a href="3.7-performance-metrics.html#brier-score"><i class="fa fa-check"></i><b>3.7.2</b> Brier score</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data.html"><a href="4-data.html"><i class="fa fa-check"></i><b>4</b> Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4.1-general-overview.html"><a href="4.1-general-overview.html"><i class="fa fa-check"></i><b>4.1</b> General Overview</a></li>
<li class="chapter" data-level="4.2" data-path="4.2-churndescstats.html"><a href="4.2-churndescstats.html"><i class="fa fa-check"></i><b>4.2</b> <code>Churn_Value</code> and <code>Tenure_Months</code></a>
<ul>
<li class="chapter" data-level="" data-path="4.2-churndescstats.html"><a href="4.2-churndescstats.html#demographic-data"><i class="fa fa-check"></i>Demographic data</a></li>
<li class="chapter" data-level="" data-path="4.2-churndescstats.html"><a href="4.2-churndescstats.html#data-on-services-subscribed"><i class="fa fa-check"></i>Data on services subscribed</a></li>
<li class="chapter" data-level="" data-path="4.2-churndescstats.html"><a href="4.2-churndescstats.html#customer-account-data"><i class="fa fa-check"></i>Customer account data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4.3-cltv-customer-lifetime-value.html"><a href="4.3-cltv-customer-lifetime-value.html"><i class="fa fa-check"></i><b>4.3</b> <code>CLTV</code>: Customer Lifetime Value</a>
<ul>
<li class="chapter" data-level="" data-path="4.3-cltv-customer-lifetime-value.html"><a href="4.3-cltv-customer-lifetime-value.html#demographic-data-1"><i class="fa fa-check"></i>Demographic data</a></li>
<li class="chapter" data-level="" data-path="4.3-cltv-customer-lifetime-value.html"><a href="4.3-cltv-customer-lifetime-value.html#data-on-services-subscribed-1"><i class="fa fa-check"></i>Data on services subscribed</a></li>
<li class="chapter" data-level="" data-path="4.3-cltv-customer-lifetime-value.html"><a href="4.3-cltv-customer-lifetime-value.html#customer-account-data-1"><i class="fa fa-check"></i>Customer account data</a></li>
<li><a href="4.3-cltv-customer-lifetime-value.html#correlation-between-cltv-and-explanatory-quantitative-variables">Correlation between <code>CLTV</code> and explanatory quantitative variables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4.4-churn-duration-and-customer-value.html"><a href="4.4-churn-duration-and-customer-value.html"><i class="fa fa-check"></i><b>4.4</b> Churn, duration and customer <em>value</em></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-estimation.html"><a href="5-estimation.html"><i class="fa fa-check"></i><b>5</b> Estimation techniques</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5.1-featureselection.html"><a href="5.1-featureselection.html"><i class="fa fa-check"></i><b>5.1</b> Feature selection</a></li>
<li class="chapter" data-level="5.2" data-path="5.2-portfolio-segmentation.html"><a href="5.2-portfolio-segmentation.html"><i class="fa fa-check"></i><b>5.2</b> Portfolio segmentation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="5.2-portfolio-segmentation.html"><a href="5.2-portfolio-segmentation.html#transforming-qualitative-variables-into-principal-axes"><i class="fa fa-check"></i><b>5.2.1</b> Transforming qualitative variables into principal axes</a></li>
<li class="chapter" data-level="5.2.2" data-path="5.2-portfolio-segmentation.html"><a href="5.2-portfolio-segmentation.html#hierarchical-clustering-on-principal-components"><i class="fa fa-check"></i><b>5.2.2</b> Hierarchical clustering on principal components</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5.3-churn-analysis.html"><a href="5.3-churn-analysis.html"><i class="fa fa-check"></i><b>5.3</b> Churn analysis</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="5.3-churn-analysis.html"><a href="5.3-churn-analysis.html#the-cox-model"><i class="fa fa-check"></i><b>5.3.1</b> The Cox model</a></li>
<li class="chapter" data-level="5.3.2" data-path="5.3-churn-analysis.html"><a href="5.3-churn-analysis.html#other-models-1"><i class="fa fa-check"></i><b>5.3.2</b> Other models</a></li>
<li class="chapter" data-level="5.3.3" data-path="5.3-churn-analysis.html"><a href="5.3-churn-analysis.html#model-comparison"><i class="fa fa-check"></i><b>5.3.3</b> Model comparison</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5.4-estimation-of-portfolio-value.html"><a href="5.4-estimation-of-portfolio-value.html"><i class="fa fa-check"></i><b>5.4</b> Estimation of portfolio value</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a>
<ul>
<li class="chapter" data-level="" data-path="hazard-function.html"><a href="hazard-function.html"><i class="fa fa-check"></i>Hazard function</a></li>
<li class="chapter" data-level="" data-path="link-between-cumulative-hazard-and-survivor-functions.html"><a href="link-between-cumulative-hazard-and-survivor-functions.html"><i class="fa fa-check"></i>Link between cumulative hazard and survivor functions</a></li>
<li class="chapter" data-level="" data-path="contribution-to-the-partial-likelihood-function-in-ph-models.html"><a href="contribution-to-the-partial-likelihood-function-in-ph-models.html"><i class="fa fa-check"></i>Contribution to the partial likelihood function in PH models</a></li>
<li class="chapter" data-level="" data-path="partial-likelihood-function-in-ph-models.html"><a href="partial-likelihood-function-in-ph-models.html"><i class="fa fa-check"></i>Partial likelihood function in PH models</a></li>
<li class="chapter" data-level="" data-path="multiple-correspondence-analysis.html"><a href="multiple-correspondence-analysis.html"><i class="fa fa-check"></i>Multiple correspondence analysis</a></li>
<li class="chapter" data-level="" data-path="hierarchical-clustering-on-principal-components-1.html"><a href="hierarchical-clustering-on-principal-components-1.html"><i class="fa fa-check"></i>Hierarchical clustering on principal components</a>
<ul>
<li class="chapter" data-level="" data-path="hierarchical-clustering-on-principal-components-1.html"><a href="hierarchical-clustering-on-principal-components-1.html#cluster-visualisation-1"><i class="fa fa-check"></i>Cluster visualisation</a></li>
<li class="chapter" data-level="" data-path="hierarchical-clustering-on-principal-components-1.html"><a href="hierarchical-clustering-on-principal-components-1.html#parangons"><i class="fa fa-check"></i>Parangons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Portfolio, Churn &amp; Customer Value</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="portfolio-segmentation" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Portfolio segmentation</h2>
<p>Customer segmentation helps decision makers having a better understanding of their clients. It can then be used to enhance marketing strategies via personalization. In other words, segmentation can lead to target customers with offers and incentives personalized to their wants, needs and preferences. In order to make segmentation more accurate, it is more appropriate to use cluster analysis than predetermined thresholds or rules, even more when we have several variables at our disposal. In this context, this section focuses on applying clustering methods on features displayed in table <a href="5.1-featureselection.html#tab:selectedfeatures">5.1</a>, apart from <code>Monthly_Charges</code>.</p>
<div id="transforming-qualitative-variables-into-principal-axes" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Transforming qualitative variables into principal axes</h3>
<p>The variables selected to perform cluster analysis being categorical, it is needed to transform them into continuous features. To that end, multiple correspondence analysis (MCA) is performed. MCA is a dimension reducing method which takes multiple categorical variables and seeks to identify associations between levels of those variables. MCA aims at highlighting features that separate classes of individuals, while determining links between variables and categories. To that end, MCA keeps the core information by the means of principal components which are projected axes <span class="citation">(<a href="#ref-MCA" role="doc-biblioref">Scholler 2021</a>)</span>.</p>
<p>Here, the main objective of applying MCA being to obtain continuous features, it is decided to keep as many axes as it takes to have at least 80% cumulated variance. In other words, we want the principal components to gather enough customer-related information. After having processed the <code>MCA</code> function from the R package <code>FactoMineR</code> <span class="citation">(<a href="#ref-FactoMineR2008" role="doc-biblioref">Lê, Josse, and Husson 2008</a>)</span>, 10 principal components are required to keep more than 80% cumulated variance as depicted by figure <a href="5.2-portfolio-segmentation.html#fig:mcascreeplot">5.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:mcascreeplot"></span>
<p class="caption">
Figure 5.1: Variance explained and cumulated variance after MCA
</p>
<img src="imgs/mca_screeplot.png" alt="Variance explained and cumulated variance after MCA" width="545" />
</div>
<p>Now the 10 continuous axes are identified, the next step consists in retrieving the customers’ coordinates onto those axes to then perform cluster analysis.</p>
<table class="table table-striped table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-26">Table 5.2: </span>The 10 principal axes obtained by MCA
</caption>
<thead>
<tr>
<th style="text-align:right;">
CustomerID
</th>
<th style="text-align:right;">
Dim 1
</th>
<th style="text-align:right;">
Dim 2
</th>
<th style="text-align:right;">
Dim 3
</th>
<th style="text-align:right;">
Dim 4
</th>
<th style="text-align:right;">
Dim 5
</th>
<th style="text-align:right;">
Dim 6
</th>
<th style="text-align:right;">
Dim 7
</th>
<th style="text-align:right;">
Dim 8
</th>
<th style="text-align:right;">
Dim 9
</th>
<th style="text-align:right;">
Dim 10
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1918
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
0.60
</td>
<td style="text-align:right;">
-0.10
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
-0.02
</td>
<td style="text-align:right;">
-0.14
</td>
<td style="text-align:right;">
-0.81
</td>
<td style="text-align:right;">
0.12
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
-0.23
</td>
</tr>
<tr>
<td style="text-align:right;">
3952
</td>
<td style="text-align:right;">
-0.30
</td>
<td style="text-align:right;">
-0.06
</td>
<td style="text-align:right;">
-0.57
</td>
<td style="text-align:right;">
-0.15
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.00
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
-0.05
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
-0.33
</td>
</tr>
<tr>
<td style="text-align:right;">
2522
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.60
</td>
<td style="text-align:right;">
-0.21
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
0.53
</td>
<td style="text-align:right;">
-0.03
</td>
<td style="text-align:right;">
-0.27
</td>
<td style="text-align:right;">
-0.16
</td>
<td style="text-align:right;">
-0.39
</td>
<td style="text-align:right;">
0.38
</td>
</tr>
<tr>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
-0.25
</td>
<td style="text-align:right;">
-0.14
</td>
<td style="text-align:right;">
-0.50
</td>
<td style="text-align:right;">
-0.15
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
-0.38
</td>
<td style="text-align:right;">
-0.45
</td>
</tr>
<tr>
<td style="text-align:right;">
4753
</td>
<td style="text-align:right;">
-0.19
</td>
<td style="text-align:right;">
0.18
</td>
<td style="text-align:right;">
-0.53
</td>
<td style="text-align:right;">
-0.04
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
-0.29
</td>
<td style="text-align:right;">
0.21
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
-0.43
</td>
</tr>
</tbody>
</table>
<p>Note that a more in-depth visualisation of those 10 principal components can be found in figures <a href="multiple-correspondence-analysis.html#fig:mcacontrib14">5.7</a>, <a href="multiple-correspondence-analysis.html#fig:mcacontrib58">5.8</a> and <a href="multiple-correspondence-analysis.html#fig:mcacontrib910">5.9</a> in the appendix. This charts depict the percent contribution of each variable’s categories to the principal axes, which is helpful to have a better undertsanding of MCA results.</p>
</div>
<div id="hierarchical-clustering-on-principal-components" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Hierarchical clustering on principal components</h3>
<p>Multiple correspondence analysis has led us to convert the categorical variables related to account and services information into 10 numerical projected axes. The stake here is to use the customers’ projections onto the MCA components in order to identify groups of individuals through clustering techniques. As a reminder, clusters are expected to discriminate between customers based on the services they use and the type of plan they are enrolled into. The method implemented in this part relies on hierarchical clustering on principal components (HCPC).</p>
<div id="optimal-number-of-clusters" class="section level4 unnumbered">
<h4>Optimal number of clusters</h4>
<p>The key parameter to optimize when applying clustering methods is the number of clusters <span class="math inline">\(k\)</span>. When using the <code>HCPC</code> function from <code>FactorMineR</code>, the <code>nb.clust</code> parameter is set to -1 so that the tree is automatically cut at the suggested level. More precisely, the function first builds a hierarchical tree. Then the sum of the between-cluster inertia is calculated for each partition. The suggested partition is the one with the higher relative gain in inertia. Intuitively, the underlying objective is to choose a number of clusters leading to <span class="math inline">\(k\)</span> well distinguished groups. Here, the between-cluster inertia is the metric measuring the amount of variability between clusters.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:btwinertia"></span>
<p class="caption">
Figure 5.2: Relative gains in between-cluster inertia given the partition
</p>
<img src="imgs/btw_inertia.png" alt="Relative gains in between-cluster inertia given the partition" width="502" />
</div>
</div>
<div id="cluster-visualisation" class="section level4 unnumbered">
<h4>Cluster visualisation</h4>
<table class="table table-striped table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-27">Table 5.3: </span>Customer repartition across the 3 clusters
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
Cluster 1
</th>
<th style="text-align:right;">
Cluster 2
</th>
<th style="text-align:right;">
Cluster 3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
%
</td>
<td style="text-align:right;">
26.55
</td>
<td style="text-align:right;">
41.38
</td>
<td style="text-align:right;">
32.07
</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:clusterplot"></span>
<p class="caption">
Figure 5.3: Cluster visualisation onto the 2 first MCA axes
</p>
<img src="imgs/cluster_plot.png" alt="Cluster visualisation onto the 2 first MCA axes" width="462" />
</div>
<p>See figure <a href="hierarchical-clustering-on-principal-components-1.html#fig:clusterplots">5.10</a> in the appendix for cluster visualisations onto the other MCA principal axes.</p>
</div>
<div id="cluster-description" class="section level4 unnumbered">
<h4>Cluster description</h4>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:monthlychargesclust"></span>
<p class="caption">
Figure 5.4: Monthly charges repartition across clusters
</p>
<img src="imgs/monthly_charges_clust.png" alt="Monthly charges repartition across clusters" width="450" />
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:catvarsclust"></span>
<p class="caption">
Figure 5.5: Customer categorical features based on cluster
</p>
<img src="imgs/cat_vars_clust.png" alt="Customer categorical features based on cluster" width="700" />
</div>
</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-FactoMineR2008" class="csl-entry">
Lê, Sébastien, Julie Josse, and François Husson. 2008. <span>“<span>FactoMineR</span>: A Package for Multivariate Analysis.”</span> <em>Journal of Statistical Software</em> 25 (1): 1–18. <a href="https://doi.org/10.18637/jss.v025.i01">https://doi.org/10.18637/jss.v025.i01</a>.
</div>
<div id="ref-MCA" class="csl-entry">
Scholler, Julie. 2021. <em>M1 Analyse de Données Exploratoire - ACM</em>. Université de Tours. <a href="https://juliescholler.gitlab.io/publication/m1ade-2021/M1-AnaExpl-ACM.pdf">https://juliescholler.gitlab.io/publication/m1ade-2021/M1-AnaExpl-ACM.pdf</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="5.1-featureselection.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="5.3-churn-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["portfolio_churn_value.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
